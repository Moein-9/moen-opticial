
import { create } from 'zustand';

type LanguageStore = {
  language: 'en' | 'ar';
  setLanguage: (language: 'en' | 'ar') => void;
  t: (key: string) => string;
};

// Translations for both languages
const translations: Record<string, Record<string, string>> = {
  en: {
    // General UI
    welcome: 'Welcome to the Optical System',
    dashboard: 'Dashboard',
    createClient: 'Create Client',
    createInvoice: 'Create Invoice',
    inventory: 'Inventory',
    remainingPayments: 'Remaining Payments',
    patientSearch: 'Patient Search',
    reportsPage: 'Reports',
    systemDescription: 'Comprehensive system for managing optical store operations, patients, and sales.',
    currentTime: 'Current Time',
    languageCode: 'EN',
    
    // Create Client
    clientInformation: 'Client Information',
    personalInfo: 'Personal Information',
    firstName: 'First Name',
    lastName: 'Last Name',
    fullName: 'Full Name',
    civilId: 'Civil ID',
    phoneNumber: 'Phone Number',
    dateOfBirth: 'Date of Birth',
    age: 'Age',
    gender: 'Gender',
    male: 'Male',
    female: 'Female',
    address: 'Address',
    email: 'Email',
    notes: 'Notes',
    saveClient: 'Save Client',
    clientSaved: 'Client saved successfully',
    enterFirstName: 'Enter first name',
    enterLastName: 'Enter last name',
    enterCivilId: 'Enter civil ID',
    enterPhoneNumber: 'Enter phone number',
    enterEmail: 'Enter email',
    selectDateOfBirth: 'Select date of birth',
    selectGender: 'Select gender',
    enterAddress: 'Enter address',
    enterNotes: 'Enter notes',
    name: 'Name',
    phone: 'Phone',
    createClientTitle: 'Create New Client',
    prescriptionGlasses: 'Glasses Prescription',
    contactLensesTab: 'Contact Lenses',
    glassesPrescription: 'Glasses Prescription',
    prescriptionDate: 'Prescription Date',
    choosePrescriptionDate: 'Choose a date',
    contactLensPrescription: 'Contact Lens Prescription',
    clientDidntShareDOB: 'Client did not share date of birth',
    clientNotesPreferences: 'Client notes and preferences',
    right: 'Right',
    left: 'Left',
    choose: 'Choose',
    day: 'Day',
    month: 'Month',
    year: 'Year',
    saveAndContinue: 'Save and Continue',
    january: 'January',
    february: 'February',
    march: 'March',
    april: 'April',
    may: 'May',
    june: 'June',
    july: 'July',
    august: 'August',
    september: 'September',
    october: 'October',
    november: 'November',
    december: 'December',
    error: 'Error',
    requiredField: 'Name is required',
    success: 'Success',
    successMessage: 'Client saved successfully',
    
    // Create Invoice
    invoiceCreation: 'Invoice Creation',
    clientDetails: 'Client Details',
    searchClient: 'Search Client',
    lensDetails: 'Lens Details',
    lensType: 'Lens Type',
    selectLens: 'Select Lens',
    lensPrice: 'Lens Price',
    frameDetails: 'Frame Details',
    frameBrand: 'Frame Brand',
    frameModel: 'Frame Model',
    frameColor: 'Frame Color',
    framePrice: 'Frame Price',
    coatingDetails: 'Coating Details',
    coatingType: 'Coating Type',
    selectCoating: 'Select Coating',
    coatingPrice: 'Coating Price',
    prescription: 'Prescription',
    rightEye: 'Right Eye',
    leftEye: 'Left Eye',
    sphere: 'Sphere',
    cylinder: 'Cylinder',
    axis: 'Axis',
    addition: 'Addition',
    pupillaryDistance: 'Pupillary Distance',
    paymentDetails: 'Payment Details',
    subtotal: 'Subtotal',
    discount: 'Discount',
    total: 'Total',
    paymentMethod: 'Payment Method',
    creditCard: 'Credit Card',
    deposit: 'Deposit',
    remaining: 'Remaining',
    createInvoiceBtn: 'Create Invoice',
    invoiceCreated: 'Invoice created successfully',
    invoiceSuccessMessage: 'Your invoice has been successfully created and is ready for printing',
    workOrderNumber: 'Work Order Number',
    clientName: 'Client Name',
    clientPhone: 'Client Phone',
    date: 'Date',
    totalAmount: 'Total Amount',
    totalInvoice: 'Total Invoice',
    paymentStatus: 'Payment Status',
    paid: 'Paid',
    paidInFull: 'Paid in Full',
    partiallyPaid: 'Partially Paid',
    nextSteps: 'Next Steps',
    printWorkOrder: 'Print Work Order',
    printWorkOrderDescription: 'Print the production work order for the lab',
    printInvoice: 'Print Invoice',
    printInvoiceDescription: 'Print the customer invoice receipt',
    printCustomWorkOrder: 'Print Custom Work Order',
    printCustomWorkOrderDescription: 'Print a specialized work order with custom format',
    
    // Tab sections in Create Invoice
    clientSection: '1) Client Information',
    productSection: 'Lenses and Frame',
    paymentSection: 'Payment Method',
    summarySection: 'Summary',
    
    // Inventory
    frames: 'Frames',
    lenses: 'Lenses',
    contactLenses: 'Contact Lenses',
    frameInventory: 'Frame Inventory',
    frameManagement: 'Frame Management',
    addFrame: 'Add Frame',
    editFrame: 'Edit Frame',
    deleteFrame: 'Delete Frame',
    brand: 'Brand',
    model: 'Model',
    color: 'Color',
    size: 'Size',
    price: 'Price',
    quantity: 'Quantity',
    actions: 'Actions',
    addNewFrame: 'Add New Frame',
    updateFrame: 'Update Frame',
    confirmDelete: 'Confirm Delete',
    deleteFrameConfirm: 'Are you sure you want to delete this frame?',
    cancel: 'Cancel',
    save: 'Save',
    delete: 'Delete',
    
    // Lens Types
    lensInventory: 'Lens Inventory',
    lensTypes: 'Lens Types',
    lensCoatings: 'Lens Coatings',
    lensThicknesses: 'Lens Thicknesses',
    addLens: 'Add Lens',
    editLens: 'Edit Lens',
    deleteLens: 'Delete Lens',
    lensName: 'Lens Name',
    description: 'Description',
    addNewLens: 'Add New Lens',
    updateLens: 'Update Lens',
    deleteLensConfirm: 'Are you sure you want to delete this lens?',
    contactLensManagement: 'Contact Lens Management',
    distanceReading: 'Distance/Reading',
    distance: 'Distance',
    reading: 'Reading',
    progressive: 'Progressive',
    bifocal: 'Bifocal',
    sunglasses: 'Sunglasses',
    
    // Remaining Payments
    duePayments: 'Manage incomplete invoices and record remaining payments',
    clientId: 'Client ID',
    invoiceId: 'Invoice ID',
    invoiceDate: 'Invoice Date',
    amountDue: 'Amount Due',
    status: 'Status',
    payNow: 'Pay Now',
    paymentComplete: 'Payment Complete',
    partialPayment: 'Partial Payment',
    makePayment: 'Make Payment',
    paymentAmount: 'Payment Amount',
    process: 'Process',
    
    // Patient Search
    searchResultsLabel: 'Search Results',
    noResults: 'No results found',
    searchByName: 'Search by name',
    searchByPhone: 'Search by phone',
    search: 'Search',
    viewDetails: 'View Details',
    patientDetails: 'Patient Details',
    invoiceHistory: 'Invoice History',
    prescriptionHistory: 'Prescription History',
    
    // Common Actions
    edit: 'Edit',
    view: 'View',
    print: 'Print',
    close: 'Close',
    yes: 'Yes',
    no: 'No',
    add: 'Add',
    update: 'Update',
    submit: 'Submit',
    confirm: 'Confirm',
    optional: 'Optional',
    next: 'Next',
    previous: 'Previous',
    newInvoice: 'New Invoice',

    // Units and Labels
    kwd: 'KWD',
    piece: 'Piece',
    pieces: 'Pieces',
    mm: 'mm',
    cm: 'cm',
    diopter: 'Diopter',
    
    // Create Invoice (Additional)
    invoiceTitle: "Create Invoice",
    // clientSection is now defined above in "Tab sections in Create Invoice"
    noClientFile: "No client file",
    phoneColon: "Phone Number:",
    typeToSearch: "Type to search...",
    patientID: "Patient ID",
    hideRx: "Hide Prescription",
    showRx: "Show Prescription",
    eye: "Eye",
    lensSection: "2) Prescription Lenses",
    frameSection: "3) Frame",
    searchTerm: "Search (Brand/Model/Color/Size):",
    searchExample: "Example: RayBan...",
    selectedFrame: "Selected Frame",
    addFrameButton: "Add New Frame",
    newFrameDetails: "New Frame Details",
    saveFrame: "Save Frame",
    discountSection: "4) Discount and Payment",
    discountColon: "Discount (KWD):",
    depositColon: "Deposit (KWD):",
    payInFull: "Pay in Full",
    // paymentSection is now defined above in "Tab sections in Create Invoice"
    approvalNumber: "Approval Number (Authorization No.):",
    previewInvoice: "Preview Invoice",
    saveAndPrint: "Save and Print",
    invoiceSummary: "Invoice Summary",
    glasses: "Glasses",
    contacts: "Contact Lenses",
    workOrder: "Work Order",
    invoice: "Invoice",
    phoneSearchError: "Please enter a phone number to search.",
    noClientsFound: "No clients found with this number.",
    searchTermError: "Please enter search terms.",
    noFramesFound: "No frames found.",
    frameDetailsError: "Please enter frame details.",
    priceError: "Please enter a valid price.",
    quantityError: "Please enter a valid quantity.",
    frameAddedSuccess: "Frame added successfully.",
    clientSelectionError: "Please select a client or enable the 'No client file' option.",
    lensSelectionError: "Please select a lens type.",
    frameSelectionError: "Please select a frame or enable 'Lenses only' option.",
    contactLensSelectionError: "Please select at least one contact lens.",
    paymentMethodError: "Please select a payment method.",
    invoiceSavedSuccess: "Invoice saved successfully with number",
    cashPayment: "Cash",
    knet: "KNET",
    visa: "Visa",
    mastercard: "MasterCard",
    leftEyeAbbr: "OS (Left)",
    rightEyeAbbr: "OD (Right)",
    pdRight: "PD",
    lensesOnly: "Lenses only",
    frameTotal: "Frame Price:",
    lensTotal: "Lens Price:",
    coatingTotal: "Coating Price:",
    contactLensesTotal: "Contact Lenses Total:",
    lensCount: "contact lenses",
    approvalNumberLabel: "Approval Number:",
    paymentTotalLabel: "Total:",
    paidLabel: "Paid:",
    
    // Waiting states for invoice summary
    waitingForClientData: "Waiting for client data...",
    waitingForProductData: "Waiting for product data...",
    waitingForPaymentData: "Waiting for payment data...",
    
    remainingLabel: "Remaining:",
    
    // LensSelector Component
    frameOnly: "Frame only (without lenses)",
    
    // Additional translations for images shown
    medicalLenses: "Medical Lenses",
    selectLensType: "Select Lens Type",
    selectCoatings: "Select Coatings",
    
    // RX Manager translations with improved spacing
    rxAndCareInstructions: "Rx and Care Instructions",
    printPrescription: "Print Prescription",
    newRx: "New Rx",
    currentRx: "Current Rx",
    rxHistory: "Rx History",
    noPreviousRx: "No Previous Prescriptions",
    noPreviousRxDescription: "This patient doesn't have any previous prescription history yet.",
    addNewRx: "Add New Prescription",
    addNewRxFor: "Add new prescription for",
    viewPrescription: "View Prescription",
    selectLanguageForPrinting: "Select Language for Printing",
    dataError: "Data Error",
    fillAllRequiredFields: "Please fill all required fields",
    
    // Glasses care tips
    glassesCareTips: "Glasses Care Tips",
    tip1: "Clean your glasses regularly with a microfiber cloth.",
    tip2: "Always store your glasses in a protective case.",
    tip3: "Avoid placing your glasses lens-side down.",
    tip4: "Schedule regular eye exams to ensure your prescription is accurate.",
    thankYou: "Thank you for choosing Moen Optician. We look forward to serving you again!",
    
    // Newly added translations 
    startBySelectingClient: "Start by selecting a client in Step 1",
    goToClientSection: "Go to Client Section",
    anonymous: "Anonymous",
    
    // Add new translation for axis validation error
    axisValidationError: "The AXIS values you've inserted are not correct! If CYL value is provided, AXIS value is required.",
    
    // Add the new notesPlaceholder translation
    notesPlaceholder: "You can add any information about the customer here...",
    
    // Refunds and Exchanges
    exchangeAndRefunds: 'Exchange & Refunds',
    processRefund: 'Process Refund',
    processExchange: 'Process Exchange',
    refundAmount: 'Refund Amount',
    exchangeDetails: 'Exchange Details',
    reason: 'Reason',
    searchTransactions: 'Search Transactions',
    searchByAny: 'Search by name, phone, or invoice number',
    refundStatus: 'Refund Status',
    exchangeStatus: 'Exchange Status',
    refunded: 'Refunded',
    exchanged: 'Exchanged',
    originalInvoice: 'Original Invoice',
    newInvoiceLabel: 'New Invoice',
    refundInvoice: 'Refund Invoice',
    refundDate: 'Refund Date',
    exchangeDate: 'Exchange Date',
    refundReason: 'Refund Reason',
    exchangeReason: 'Exchange Reason',
    amountDifference: 'Amount Difference',
    additionalPayment: 'Additional Payment',
    refundCompleted: 'Refund Completed',
    exchangeCompleted: 'Exchange Completed',
    transactionHistory: 'Transaction History',
    notRefunded: 'Not Refunded',
    notExchanged: 'Not Exchanged',
    initiateRefund: 'Initiate Refund',
    initiateExchange: 'Initiate Exchange',
    selectNewInvoice: 'Select New Invoice',
    frameDefective: 'Frame Defective',
    lensDefective: 'Lens Defective',
    customerDissatisfied: 'Customer Dissatisfied',
    wrongPrescription: 'Wrong Prescription',
    other: 'Other',
    specifyReason: 'Please specify reason',
    confirmRefund: 'Confirm Refund',
    confirmExchange: 'Confirm Exchange',
    refundInvoiceGenerated: 'Refund invoice has been generated',
    exchangeCompleteMessage: 'Exchange has been completed successfully',
    processingRefund: 'Processing Refund for Invoice',
    processingExchange: 'Processing Exchange for Invoice',
    searchForInvoice: 'Search for invoice to process',
    refundAndExchangeHistory: 'Refund & Exchange History',
    dateProcessed: 'Date Processed',
    processedBy: 'Processed By',
    searchResultsList: 'Search Results',
    noTransactionsFound: 'No transactions found with the provided search terms',
    returnToSearch: 'Return to Search',
    printRefundInvoice: 'Print Refund Invoice',
    refundReceiptTitle: 'Refund Receipt',
    
    // Status labels
    pending: 'Pending',
    completed: 'Completed',
    cancelled: 'Cancelled',
    
    // Add missing translations needed for the new features
    quickActions: 'Quick Actions',
    manageInventory: 'Manage Inventory',
    comingSoon: 'Coming Soon',
    selectReason: 'Select a Reason',
    invoiceDetails: 'Invoice Details',
    refundDetails: 'Refund Details',
    totalRefund: 'Total Refund',
  },
  ar: {
    // General UI
    welcome: 'مرحبًا بكم في نظام النظارات',
    dashboard: 'لوحة التحكم',
    createClient: 'إنشاء عميل',
    createInvoice: 'إنشاء فاتورة',
    inventory: 'المخزون',
    remainingPayments: 'المتبقي للدفع',
    patientSearch: 'بحث عن مريض',
    reportsPage: 'التقارير',
    systemDescription: 'نظام شامل لإدارة عمليات متجر النظارات والمرضى والمبيعات.',
    currentTime: 'الوقت الحالي',
    languageCode: 'عربي',
    
    // Create Client
    clientInformation: 'معلومات العميل',
    personalInfo: 'المعلومات الشخصية',
    firstName: 'الاسم الأول',
    lastName: 'اسم العائلة',
    fullName: 'الاسم الكامل',
    civilId: 'الرقم المدني',
    phoneNumber: 'رقم الهاتف',
    dateOfBirth: 'تاريخ الميلاد',
    age: 'العمر',
    gender: 'الجنس',
    male: 'ذكر',
    female: 'أنثى',
    address: 'العنوان',
    email: 'البريد الإلكتروني',
    notes: 'ملاحظات',
    saveClient: 'حفظ العميل',
    clientSaved: 'تم حفظ العميل بنجاح',
    enterFirstName: 'أدخل الاسم الأول',
    enterLastName: 'أدخل اسم العائلة',
    enterCivilId: 'أدخل الرقم المدني',
    enterPhoneNumber: 'أدخل رقم الهاتف',
    enterEmail: 'أدخل البريد الإلكتروني',
    selectDateOfBirth: 'اختر تاريخ الميلاد',
    selectGender: 'اختر الجنس',
    enterAddress: 'أدخل العنوان',
    enterNotes: 'أدخل ملاحظات',
    name: 'الاسم',
    phone: 'الهاتف',
    createClientTitle: 'إنشاء عميل جديد',
    prescriptionGlasses: 'وصفة النظارات',
    contactLensesTab: 'العدسات اللاصقة',
    glassesPrescription: 'وصفة النظارات',
    prescriptionDate: 'تاريخ الوصفة',
    choosePrescriptionDate: 'اختر تاريخ',
    contactLensPrescription: 'وصفة العدسات اللاصقة',
    clientDidntShareDOB: 'لم يشارك العميل تاريخ الميلاد',
    clientNotesPreferences: 'ملاحظات وتفضيلات العميل',
    right: 'يمين',
    left: 'يسار',
    choose: 'اختر',
    day: 'يوم',
    month: 'شهر',
    year: 'سنة',
    saveAndContinue: 'حفظ ومتابعة',
    january: 'يناير',
    february: 'فبراير',
    march: 'مارس',
    april: 'أبريل',
    may: 'مايو',
    june: 'يونيو',
    july: 'يوليو',
    august: 'أغسطس',
    september: 'سبتمبر',
    october: 'أكتوبر',
    november: 'نوفمبر',
    december: 'ديسمبر',
    error: 'خطأ',
    requiredField: 'الاسم مطلوب',
    success: 'نجاح',
    successMessage: 'تم حفظ العميل بنجاح',
    
    // Create Invoice
    invoiceCreation: 'إنشاء فاتورة',
    clientDetails: 'تفاصيل العميل',
    searchClient: 'بحث عن عميل',
    lensDetails: 'العدسات الطبية',
    lensType: 'نوع العدسة',
    selectLens: 'اختر العدسة',
    lensPrice: 'سعر العدسة',
    frameDetails: 'تفاصيل الإطار',
    frameBrand: 'ماركة الإطار',
    frameModel: 'موديل الإطار',
    frameColor: 'لون الإطار',
    framePrice: 'سعر الإطار',
    coatingDetails: 'تفاصيل الطلاء',
    coatingType: 'نوع الطلاء',
    selectCoating: 'اختر الطلاء',
    coatingPrice: 'سعر الطلاء',
    prescription: 'الوصفة الطبية',
    rightEye: 'العين اليمنى',
    leftEye: 'العين اليسرى',
    sphere: 'المجال',
    cylinder: 'الاسطوانة',
    axis: 'المحور',
    addition: 'الإضافة',
    pupillaryDistance: 'المسافة البؤبؤية',
    paymentDetails: 'تفاصيل الدفع',
    subtotal: 'المجموع الفرعي',
    discount: 'الخصم',
    total: 'المجموع',
    paymentMethod: 'طريقة الدفع',
    cashPayment: 'نقداً',
    creditCard: 'بطاقة ائتمان',
    deposit: 'العربون',
    remaining: 'المتبقي',
    createInvoiceBtn: 'إنشاء الفاتورة',
    invoiceCreated: 'تم إنشاء الفاتورة بنجاح',
    invoiceSuccessMessage: 'تم إنشاء الفاتورة بنجاح وهي جاهزة للطباعة',
    workOrderNumber: 'رقم أمر العمل',
    clientName: 'اسم العميل',
    clientPhone: 'هاتف العميل',
    date: 'التاريخ',
    totalAmount: 'المبلغ الإجمالي',
    totalInvoice: 'إجمالي الفاتورة',
    paymentStatus: 'حالة الدفع',
    paid: 'مدفوع',
    paidInFull: 'مدفوع بالكامل',
    partiallyPaid: 'مدفوع جزئياً',
    nextSteps: 'الخطوات التالية',
    printWorkOrder: 'طباعة أمر العمل',
    printWorkOrderDescription: 'طباعة أمر العمل للمختبر',
    printInvoice: 'طباعة الفاتورة',
    printInvoiceDescription: 'طباعة إيصال الفاتورة للعميل',
    printCustomWorkOrder: 'طباعة أمر عمل مخصص',
    printCustomWorkOrderDescription: 'طباعة أمر عمل متخصص بتنسيق مخصص',
    
    // Tab sections in Create Invoice
    clientSection: '١) بيانات العميل',
    productSection: 'العدسات والإطار',
    paymentSection: 'طريقة الدفع',
    summarySection: 'الملخص',
    
    // Inventory
    frames: 'الإطارات',
    lenses: 'العدسات',
    contactLenses: 'العدسات اللاصقة',
    frameInventory: 'مخزون الإطارات',
    frameManagement: 'إدارة الإطارات',
    addFrame: 'إضافة إطار',
    editFrame: 'تعديل إطار',
    deleteFrame: 'حذف إطار',
    brand: 'الماركة',
    model: 'الموديل',
    color: 'اللون',
    size: 'الحجم',
    price: 'السعر',
    quantity: 'الكمية',
    actions: 'الإجراءات',
    addNewFrame: 'إضافة إطار جديد',
    updateFrame: 'تحديث الإطار',
    confirmDelete: 'تأكيد الحذف',
    deleteFrameConfirm: 'هل أنت متأكد من رغبتك في حذف هذا الإطار؟',
    cancel: 'إلغاء',
    save: 'حفظ',
    delete: 'حذف',
    
    // Lens Types
    lensInventory: 'مخزون العدسات',
    lensTypes: 'أنواع العدسات',
    lensCoatings: 'طلاءات العدسات',
    lensThicknesses: 'سماكة العدسات',
    addLens: 'إضافة عدسة',
    editLens: 'تعديل عدسة',
    deleteLens: 'حذف عدسة',
    lensName: 'اسم العدسة',
    description: 'الوصف',
    addNewLens: 'إضافة عدسة جديدة',
    updateLens: 'تحديث العدسة',
    deleteLensConfirm: 'هل أنت متأكد من رغبتك في حذف هذه العدسة؟',
    contactLensManagement: 'إدارة العدسات اللاصقة',
    distanceReading: 'النظر البعيد/القراءة',
    distance: 'النظر البعيد',
    reading: 'القراءة',
    progressive: 'متدرجة (Progressive)',
    bifocal: 'ثنائية البؤرة (Bifocal)',
    sunglasses: 'نظارات شمسية (Sunglasses)',
    
    // Remaining Payments
    duePayments: 'إدارة الفواتير غير المكتملة وتسجيل الدفعات المتبقية',
    clientId: 'رقم العميل',
    invoiceId: 'رقم الفاتورة',
    invoiceDate: 'تاريخ الفاتورة',
    amountDue: 'المبلغ المستحق',
    status: 'الحالة',
    payNow: 'ادفع الآن',
    paymentComplete: 'تم الدفع بالكامل',
    partialPayment: 'دفع جزئي',
    makePayment: 'إجراء الدفع',
    paymentAmount: 'مبلغ الدفع',
    process: 'معالجة',
    
    // Patient Search
    searchResultsLabel: 'نتائج البحث',
    noResults: 'لا توجد نتائج',
    searchByName: 'بحث بالاسم',
    searchByPhone: 'بحث برقم الهاتف',
    search: 'بحث',
    viewDetails: 'عرض التفاصيل',
    patientDetails: 'تفاصيل المريض',
    invoiceHistory: 'تاريخ الفواتير',
    prescriptionHistory: 'تاريخ الوصفات الطبية',
    
    // Common Actions
    edit: 'تعديل',
    view: 'عرض',
    print: 'طباعة',
    close: 'إغلاق',
    yes: 'نعم',
    no: 'لا',
    add: 'إضافة',
    update: 'تحديث',
    submit: 'تقديم',
    confirm: 'تأكيد',
    optional: 'اختياري',
    next: 'التالي',
    previous: 'السابق',
    newInvoice: 'فاتورة جديدة',

    // Units and Labels
    kwd: 'د.ك',
    piece: 'قطعة',
    pieces: 'قطع',
    mm: 'ملم',
    cm: 'سم',
    diopter: 'ديوبتر',
    
    // Create Invoice (Additional)
    invoiceTitle: "إنشاء فاتورة",
    // clientSection is now defined above in "Tab sections in Create Invoice"
    noClientFile: "لا يوجد ملف عميل",
    phoneColon: "رقم الهاتف:",
    typeToSearch: "اكتب للبحث...",
    patientID: "رقم المريض",
    hideRx: "إخفاء الوصفة",
    showRx: "عرض الوصفة",
    eye: "العين",
    lensSection: "٢) العدسات الطبية",
    frameSection: "٣) الإطار",
    searchTerm: "بحث (Brand/Model/Color/Size):",
    searchExample: "مثال: RayBan...",
    selectedFrame: "الإطار المختار",
    addFrameButton: "إضافة إطار جديد",
    newFrameDetails: "بيانات الإطار الجديد",
    saveFrame: "حفظ الإطار",
    discountSection: "٤) الخصم والدفعة",
    discountColon: "الخصم (د.ك):",
    depositColon: "الدفعة (د.ك):",
    payInFull: "دفع كامل",
    approvalNumber: "رقم الموافقة (Authorization No.):",
    previewInvoice: "معاينة الفاتورة",
    saveAndPrint: "حفظ وطباعة",
    invoiceSummary: "ملخص الفاتورة",
    glasses: "نظارات",
    contacts: "عدسات لاصقة",
    workOrder: "أمر العمل",
    invoice: "الفاتورة",
    phoneSearchError: "الرجاء إدخال رقم الهاتف للبحث.",
    noClientsFound: "لم يتم العثور على عملاء بهذا الرقم.",
    searchTermError: "الرجاء إدخال كلمات البحث.",
    noFramesFound: "لم يتم العثور على إطار.",
    frameDetailsError: "الرجاء إدخال تفاصيل الإطار.",
    priceError: "الرجاء إدخال سعر صحيح.",
    quantityError: "الرجاء إدخال كمية صحيحة.",
    frameAddedSuccess: "تم إضافة الإطار بنجاح.",
    clientSelectionError: "الرجاء اختيار عميل أو تفعيل الخيار 'لا يوجد ملف عميل'.",
    lensSelectionError: "الرجاء اختيار نوع العدسة.",
    frameSelectionError: "الرجاء اختيار إطار أو تفعيل خيار 'عدسات فقط'.",
    contactLensSelectionError: "الرجاء اختيار عدسة لاصقة واحدة على الأقل.",
    paymentMethodError: "الرجاء اختيار طريقة الدفع.",
    invoiceSavedSuccess: "تم حفظ الفاتورة برقم",
    knet: "كي نت",
    visa: "Visa",
    mastercard: "MasterCard",
    leftEyeAbbr: "OS (يسار)",
    rightEyeAbbr: "OD (يمين)",
    pdRight: "PD",
    lensesOnly: "عدسات فقط",
    frameTotal: "سعر الإطار:",
    lensTotal: "سعر العدسة:",
    coatingTotal: "سعر الطلاء:",
    contactLensesTotal: "إجمالي العدسات اللاصقة:",
    lensCount: "عدسة",
    approvalNumberLabel: "رقم الموافقة:",
    paymentTotalLabel: "المجموع:",
    paidLabel: "المدفوع:",
    
    // Waiting states for invoice summary
    waitingForClientData: "بانتظار بيانات العميل...",
    waitingForProductData: "بانتظار بيانات المنتجات...",
    waitingForPaymentData: "بانتظار بيانات الدفع...",
    
    remainingLabel: "المتبقي:",
    
    // LensSelector Component
    frameOnly: "إطار فقط (بدون عدسات)",
    
    // Additional translations for images shown
    medicalLenses: "العدسات الطبية",
    selectLensType: "اختر نوع العدسة",
    selectCoatings: "اختر الطلاءات",
    
    // RX Manager translations with proper Arabic translations
    rxAndCareInstructions: "تعليمات الوصفة والعناية",
    printPrescription: "طباعة الوصفة",
    newRx: "وصفة جديدة",
    currentRx: "الوصفة الحالية",
    rxHistory: "سجل الوصفات",
    noPreviousRx: "لا توجد وصفات سابقة",
    noPreviousRxDescription: "لا يملك هذا المريض أي سجل وصفات سابق حتى الآن",
    addNewRx: "إضافة وصفة جديدة",
    addNewRxFor: "إضافة وصفة جديدة لـ",
    viewPrescription: "عرض الوصفة",
    selectLanguageForPrinting: "اختر لغة الطباعة",
    dataError: "خطأ في البيانات",
    fillAllRequiredFields: "يرجى ملء جميع الحقول المطلوبة",
    
    // Glasses care tips in Arabic
    glassesCareTips: "نصائح للعناية بالنظارات",
    tip1: "نظف نظارتك بانتظام باستخدام قماش ناعم.",
    tip2: "احتفظ دائماً بنظارتك داخل العلبة الواقية.",
    tip3: "تجنب وضع النظارة بحيث تكون العدسات ملامسة للسطح.",
    tip4: "احرص على فحص عينيك بانتظام للتأكد من صحة الوصفة.",
    thankYou: "شكراً لاختياركم موين للبصريات، نتطلع لخدمتكم مرة أخرى!",
    
    // Newly added translations
    startBySelectingClient: "ابدأ باختيار عميل في الخطوة الأولى",
    goToClientSection: "اذهب إلى قسم العميل",
    anonymous: "مجهول",
    
    // Add new translation for axis validation error in Arabic
    axisValidationError: "قيم المحور (AXIS) التي أدخلتها غير صحيحة! إذا كانت قيمة الاسطوانة (CYL) موجودة، فيجب تحديد قيمة المحور.",
    
    // Add the new notesPlaceholder translation in Arabic
    notesPlaceholder: "يمكنك إضافة أي معلومات عن العميل هنا...",
    
    // Refunds and Exchanges
    exchangeAndRefunds: 'الاستبدال والاسترجاع',
    processRefund: 'معالجة استرداد الأموال',
    processExchange: 'معالجة الاستبدال',
    refundAmount: 'مبلغ الاسترداد',
    exchangeDetails: 'تفاصيل الاستبدال',
    reason: 'السبب',
    searchTransactions: 'بحث المعاملات',
    searchByAny: 'البحث بالاسم أو الهاتف أو رقم الفاتورة',
    refundStatus: 'حالة الاسترداد',
    exchangeStatus: 'حالة الاستبدال',
    refunded: 'تم الاسترداد',
    exchanged: 'تم الاستبدال',
    originalInvoice: 'الفاتورة الأصلية',
    newInvoiceLabel: 'الفاتورة الجديدة',
    refundInvoice: 'فاتورة الاسترداد',
    refundDate: 'تاريخ الاسترداد',
    exchangeDate: 'تاريخ الاستبدال',
    refundReason: 'سبب الاسترداد',
    exchangeReason: 'سبب الاستبدال',
    amountDifference: 'فرق المبلغ',
    additionalPayment: 'دفعة إضافية',
    refundCompleted: 'تم اكتمال الاسترداد',
    exchangeCompleted: 'تم إكمال الاستبدال',
    transactionHistory: 'سجل المعاملات',
    notRefunded: 'لم يتم الاسترداد',
    notExchanged: 'لم يتم الاستبدال',
    initiateRefund: 'بدء عملية الاسترداد',
    initiateExchange: 'بدء عملية الاستبدال',
    selectNewInvoice: 'اختيار فاتورة جديدة',
    frameDefective: 'إطار معيب',
    lensDefective: 'عدسة معيبة',
    customerDissatisfied: 'العميل غير راضٍ',
    wrongPrescription: 'وصفة طبية خاطئة',
    other: 'أخرى',
    specifyReason: 'يرجى تحديد السبب',
    confirmRefund: 'تأكيد الاسترداد',
    confirmExchange: 'تأكيد الاستبدال',
    refundInvoiceGenerated: 'تم إنشاء فاتورة الاسترداد',
    exchangeCompleteMessage: 'تم إكمال عملية الاستبدال بنجاح',
    processingRefund: 'معالجة استرداد للفاتورة',
    processingExchange: 'معالجة استبدال للفاتورة',
    searchForInvoice: 'البحث عن فاتورة للمعالجة',
    refundAndExchangeHistory: 'سجل الاسترداد والاستبدال',
    dateProcessed: 'تاريخ المعالجة',
    processedBy: 'تم معالجته بواسطة',
    searchResultsList: 'نتائج البحث',
    noTransactionsFound: 'لم يتم العثور على معاملات بمعايير البحث المقدمة',
    returnToSearch: 'العودة إلى البحث',
    printRefundInvoice: 'طباعة فاتورة الاسترداد',
    refundReceiptTitle: 'إيصال الاسترداد',
    
    // Status labels
    pending: 'قيد الانتظار',
    completed: 'مكتمل',
    cancelled: 'ملغي',
    
    // Add missing translations needed for the new features
    quickActions: 'إجراءات سريعة',
    manageInventory: 'إدارة المخزون',
    comingSoon: 'قريباً',
    selectReason: 'اختر سبباً',
    invoiceDetails: 'تفاصيل الفاتورة',
    refundDetails: 'تفاصيل الاسترداد',
    totalRefund: 'إجمالي الاسترداد',
  }
};

export const useLanguageStore = create<LanguageStore>((set) => ({
  language: 'ar', // Default language
  setLanguage: (language) => set({ language }),
  t: (key) => {
    const { language } = useLanguageStore.getState();
    return translations[language][key] || key;
  },
}));
