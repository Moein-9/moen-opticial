
import { create } from 'zustand';

type LanguageStore = {
  language: 'en' | 'ar';
  setLanguage: (language: 'en' | 'ar') => void;
  t: (key: string) => string;
};

// Translations for both languages
const translations: Record<string, Record<string, string>> = {
  en: {
    // General UI
    welcome: 'Welcome to the Optical System',
    dashboard: 'Dashboard',
    createClient: 'Create Client',
    createInvoice: 'Create Invoice',
    inventory: 'Inventory',
    remainingPayments: 'Remaining Payments',
    patientSearch: 'Patient Search',
    reportsPage: 'Reports',
    systemDescription: 'Comprehensive system for managing optical store operations, patients, and sales.',
    currentTime: 'Current Time',
    languageCode: 'EN',
    
    // Create Client
    clientInformation: 'Client Information',
    personalInfo: 'Personal Information',
    firstName: 'First Name',
    lastName: 'Last Name',
    fullName: 'Full Name',
    civilId: 'Civil ID',
    phoneNumber: 'Phone Number',
    dateOfBirth: 'Date of Birth',
    age: 'Age',
    gender: 'Gender',
    male: 'Male',
    female: 'Female',
    address: 'Address',
    email: 'Email',
    notes: 'Notes',
    saveClient: 'Save Client',
    clientSaved: 'Client saved successfully',
    enterFirstName: 'Enter first name',
    enterLastName: 'Enter last name',
    enterCivilId: 'Enter civil ID',
    enterPhoneNumber: 'Enter phone number',
    enterEmail: 'Enter email',
    selectDateOfBirth: 'Select date of birth',
    selectGender: 'Select gender',
    enterAddress: 'Enter address',
    enterNotes: 'Enter notes',
    name: 'Name',
    phone: 'Phone',
    createClientTitle: 'Create New Client',
    prescriptionGlasses: 'Glasses Prescription',
    contactLensesTab: 'Contact Lenses',
    glassesPrescription: 'Glasses Prescription',
    prescriptionDate: 'Prescription Date',
    choosePrescriptionDate: 'Choose a date',
    contactLensPrescription: 'Contact Lens Prescription',
    clientDidntShareDOB: 'Client did not share date of birth',
    clientNotesPreferences: 'Client notes and preferences',
    right: 'Right',
    left: 'Left',
    choose: 'Choose',
    day: 'Day',
    month: 'Month',
    year: 'Year',
    saveAndContinue: 'Save and Continue',
    january: 'January',
    february: 'February',
    march: 'March',
    april: 'April',
    may: 'May',
    june: 'June',
    july: 'July',
    august: 'August',
    september: 'September',
    october: 'October',
    november: 'November',
    december: 'December',
    error: 'Error',
    requiredField: 'Name is required',
    success: 'Success',
    successMessage: 'Client saved successfully',
    
    // Create Invoice
    invoiceCreation: 'Invoice Creation',
    clientDetails: 'Client Details',
    searchClient: 'Search Client',
    clientName: 'Client Name',
    clientPhone: 'Client Phone',
    lensDetails: 'Lens Details',
    lensType: 'Lens Type',
    selectLens: 'Select Lens',
    lensPrice: 'Lens Price',
    frameDetails: 'Frame Details',
    frameBrand: 'Frame Brand',
    frameModel: 'Frame Model',
    frameColor: 'Frame Color',
    framePrice: 'Frame Price',
    coatingDetails: 'Coating Details',
    coatingType: 'Coating Type',
    selectCoating: 'Select Coating',
    coatingPrice: 'Coating Price',
    prescription: 'Prescription',
    rightEye: 'Right Eye',
    leftEye: 'Left Eye',
    sphere: 'Sphere',
    cylinder: 'Cylinder',
    axis: 'Axis',
    addition: 'Addition',
    pupillaryDistance: 'Pupillary Distance',
    paymentDetails: 'Payment Details',
    subtotal: 'Subtotal',
    discount: 'Discount',
    total: 'Total',
    paymentMethod: 'Payment Method',
    // cash: 'Cash', - Commented out as it's defined again in the additional section
    creditCard: 'Credit Card',
    deposit: 'Deposit',
    remaining: 'Remaining',
    createInvoiceBtn: 'Create Invoice',
    invoiceCreated: 'Invoice created successfully',
    
    // Inventory
    frames: 'Frames',
    lenses: 'Lenses',
    contactLenses: 'Contact Lenses',
    frameInventory: 'Frame Inventory',
    frameManagement: 'Frame Management',
    addFrame: 'Add Frame',
    editFrame: 'Edit Frame',
    deleteFrame: 'Delete Frame',
    brand: 'Brand',
    model: 'Model',
    color: 'Color',
    size: 'Size',
    price: 'Price',
    quantity: 'Quantity',
    actions: 'Actions',
    addNewFrame: 'Add New Frame',
    updateFrame: 'Update Frame',
    confirmDelete: 'Confirm Delete',
    deleteFrameConfirm: 'Are you sure you want to delete this frame?',
    cancel: 'Cancel',
    save: 'Save',
    delete: 'Delete',
    
    // Lens Types
    lensInventory: 'Lens Inventory',
    lensTypes: 'Lens Types',
    lensCoatings: 'Lens Coatings',
    addLens: 'Add Lens',
    editLens: 'Edit Lens',
    deleteLens: 'Delete Lens',
    lensName: 'Lens Name',
    description: 'Description',
    addNewLens: 'Add New Lens',
    updateLens: 'Update Lens',
    deleteLensConfirm: 'Are you sure you want to delete this lens?',
    contactLensManagement: 'Contact Lens Management',
    
    // Coating
    coatingInventory: 'Coating Inventory',
    addCoating: 'Add Coating',
    editCoating: 'Edit Coating',
    deleteCoating: 'Delete Coating',
    coatingName: 'Coating Name',
    addNewCoating: 'Add New Coating',
    updateCoating: 'Update Coating',
    deleteCoatingConfirm: 'Are you sure you want to delete this coating?',
    
    // Contact Lenses
    contactLensInventory: 'Contact Lens Inventory',
    addContactLens: 'Add Contact Lens',
    editContactLens: 'Edit Contact Lens',
    deleteContactLens: 'Delete Contact Lens',
    contactLensBrand: 'Brand',
    power: 'Power',
    baseCurve: 'Base Curve',
    diameter: 'Diameter',
    addNewContactLens: 'Add New Contact Lens',
    updateContactLens: 'Update Contact Lens',
    deleteContactLensConfirm: 'Are you sure you want to delete this contact lens?',
    
    // Remaining Payments
    duePayments: 'Due Payments',
    clientId: 'Client ID',
    invoiceId: 'Invoice ID',
    invoiceDate: 'Invoice Date',
    amountDue: 'Amount Due',
    status: 'Status',
    payNow: 'Pay Now',
    paymentComplete: 'Payment Complete',
    partialPayment: 'Partial Payment',
    makePayment: 'Make Payment',
    paymentAmount: 'Payment Amount',
    process: 'Process',
    
    // Patient Search
    searchResults: 'Search Results',
    noResults: 'No results found',
    searchByName: 'Search by name',
    searchByPhone: 'Search by phone',
    search: 'Search',
    viewDetails: 'View Details',
    patientDetails: 'Patient Details',
    invoiceHistory: 'Invoice History',
    prescriptionHistory: 'Prescription History',
    date: 'Date',
    
    // Common Actions
    edit: 'Edit',
    view: 'View',
    print: 'Print',
    close: 'Close',
    yes: 'Yes',
    no: 'No',
    add: 'Add',
    update: 'Update',
    submit: 'Submit',
    confirm: 'Confirm',

    // Units and Labels
    kwd: 'KWD',
    piece: 'Piece',
    pieces: 'Pieces',
    mm: 'mm',
    cm: 'cm',
    diopter: 'Diopter',
    
    // Create Invoice (Additional)
    invoiceTitle: "Create Invoice",
    clientSection: "1) Client Information",
    noClientFile: "No client file",
    phoneColon: "Phone Number:",
    typeToSearch: "Type to search...",
    patientID: "Patient ID",
    hideRx: "Hide Prescription",
    showRx: "Show Prescription",
    eye: "Eye",
    lensSection: "2) Prescription Lenses",
    frameSection: "3) Frame",
    searchTerm: "Search (Brand/Model/Color/Size):",
    searchExample: "Example: RayBan...",
    selectedFrame: "Selected Frame",
    addFrameButton: "Add New Frame",
    newFrameDetails: "New Frame Details",
    saveFrame: "Save Frame",
    discountSection: "4) Discount and Payment",
    discountColon: "Discount (KWD):",
    depositColon: "Deposit (KWD):",
    payInFull: "Pay in Full",
    paymentSection: "5) Payment Method",
    approvalNumber: "Approval Number (Authorization No.):",
    printWorkOrder: "Print Work Order",
    previewInvoice: "Preview Invoice",
    saveAndPrint: "Save and Print",
    invoiceSummary: "Invoice Summary",
    glasses: "Glasses",
    contacts: "Contact Lenses",
    workOrder: "Work Order",
    invoice: "Invoice",
    phoneSearchError: "Please enter a phone number to search.",
    noClientsFound: "No clients found with this number.",
    searchTermError: "Please enter search terms.",
    noFramesFound: "No frames found.",
    frameDetailsError: "Please enter frame details.",
    priceError: "Please enter a valid price.",
    quantityError: "Please enter a valid quantity.",
    frameAddedSuccess: "Frame added successfully.",
    clientSelectionError: "Please select a client or enable the 'No client file' option.",
    lensSelectionError: "Please select a lens type.",
    frameSelectionError: "Please select a frame or enable 'Lenses only' option.",
    contactLensSelectionError: "Please select at least one contact lens.",
    paymentMethodError: "Please select a payment method.",
    invoiceSavedSuccess: "Invoice saved successfully with number",
    cash: "Cash",
    knet: "KNET",
    visa: "Visa",
    mastercard: "MasterCard",
    leftEyeAbbr: "OS (Left)",
    rightEyeAbbr: "OD (Right)",
    pdRight: "PD",
    lensesOnly: "Lenses only",
    frameTotal: "Frame Price:",
    lensTotal: "Lens Price:",
    coatingTotal: "Coating Price:",
    contactLensesTotal: "Contact Lenses Total:",
    lensCount: "contact lenses",
    approvalNumberLabel: "Approval Number:",
    paymentTotalLabel: "Total:",
    paidLabel: "Paid:",
    remainingLabel: "Remaining:",
  },
  ar: {
    // General UI
    welcome: 'مرحبًا بكم في نظام النظارات',
    dashboard: 'لوحة التحكم',
    createClient: 'إنشاء عميل',
    createInvoice: 'إنشاء فاتورة',
    inventory: 'المخزون',
    remainingPayments: 'المدفوعات المتبقية',
    patientSearch: 'بحث عن مريض',
    reportsPage: 'التقارير',
    systemDescription: 'نظام شامل لإدارة عمليات متجر النظارات والمرضى والمبيعات.',
    currentTime: 'الوقت الحالي',
    languageCode: 'عربي',
    
    // Create Client
    clientInformation: 'معلومات العميل',
    personalInfo: 'المعلومات الشخصية',
    firstName: 'الاسم الأول',
    lastName: 'اسم العائلة',
    fullName: 'الاسم الكامل',
    civilId: 'الرقم المدني',
    phoneNumber: 'رقم الهاتف',
    dateOfBirth: 'تاريخ الميلاد',
    age: 'العمر',
    gender: 'الجنس',
    male: 'ذكر',
    female: 'أنثى',
    address: 'العنوان',
    email: 'البريد الإلكتروني',
    notes: 'ملاحظات',
    saveClient: 'حفظ العميل',
    clientSaved: 'تم حفظ العميل بنجاح',
    enterFirstName: 'أدخل الاسم الأول',
    enterLastName: 'أدخل اسم العائلة',
    enterCivilId: 'أدخل الرقم المدني',
    enterPhoneNumber: 'أدخل رقم الهاتف',
    enterEmail: 'أدخل البريد الإلكتروني',
    selectDateOfBirth: 'اختر تاريخ الميلاد',
    selectGender: 'اختر الجنس',
    enterAddress: 'أدخل العنوان',
    enterNotes: 'أدخل ملاحظات',
    name: 'الاسم',
    phone: 'الهاتف',
    createClientTitle: 'إنشاء عميل جديد',
    prescriptionGlasses: 'وصفة النظارات',
    contactLensesTab: 'العدسات اللاصقة',
    glassesPrescription: 'وصفة النظارات',
    prescriptionDate: 'تاريخ الوصفة',
    choosePrescriptionDate: 'اختر تاريخ',
    contactLensPrescription: 'وصفة العدسات اللاصقة',
    clientDidntShareDOB: 'لم يشارك العميل تاريخ الميلاد',
    clientNotesPreferences: 'ملاحظات وتفضيلات العميل',
    right: 'يمين',
    left: 'يسار',
    choose: 'اختر',
    day: 'يوم',
    month: 'شهر',
    year: 'سنة',
    saveAndContinue: 'حفظ ومتابعة',
    january: 'يناير',
    february: 'فبراير',
    march: 'مارس',
    april: 'أبريل',
    may: 'مايو',
    june: 'يونيو',
    july: 'يوليو',
    august: 'أغسطس',
    september: 'سبتمبر',
    october: 'أكتوبر',
    november: 'نوفمبر',
    december: 'ديسمبر',
    error: 'خطأ',
    requiredField: 'الاسم مطلوب',
    success: 'نجاح',
    successMessage: 'تم حفظ العميل بنجاح',
    
    // Create Invoice
    invoiceCreation: 'إنشاء فاتورة',
    clientDetails: 'تفاصيل العميل',
    searchClient: 'بحث عن عميل',
    clientName: 'اسم العميل',
    clientPhone: 'هاتف العميل',
    lensDetails: 'تفاصيل العدسة',
    lensType: 'نوع العدسة',
    selectLens: 'اختر العدسة',
    lensPrice: 'سعر العدسة',
    frameDetails: 'تفاصيل الإطار',
    frameBrand: 'ماركة الإطار',
    frameModel: 'موديل الإطار',
    frameColor: 'لون الإطار',
    framePrice: 'سعر الإطار',
    coatingDetails: 'تفاصيل الطلاء',
    coatingType: 'نوع الطلاء',
    selectCoating: 'اختر الطلاء',
    coatingPrice: 'سعر الطلاء',
    prescription: 'الوصفة الطبية',
    rightEye: 'العين اليمنى',
    leftEye: 'العين اليسرى',
    sphere: 'المجال',
    cylinder: 'الاسطوانة',
    axis: 'المحور',
    addition: 'الإضافة',
    pupillaryDistance: 'المسافة البؤبؤية',
    paymentDetails: 'تفاصيل الدفع',
    subtotal: 'المجموع الفرعي',
    discount: 'الخصم',
    total: 'المجموع',
    paymentMethod: 'طريقة الدفع',
    cash: 'نقداً',
    creditCard: 'بطاقة ائتمان',
    deposit: 'العربون',
    remaining: 'المتبقي',
    createInvoiceBtn: 'إنشاء الفاتورة',
    invoiceCreated: 'تم إنشاء الفاتورة بنجاح',
    
    // Inventory
    frames: 'الإطارات',
    lenses: 'العدسات',
    contactLenses: 'العدسات اللاصقة',
    frameInventory: 'مخزون الإطارات',
    frameManagement: 'إدارة الإطارات',
    addFrame: 'إضافة إطار',
    editFrame: 'تعديل إطار',
    deleteFrame: 'حذف إطار',
    brand: 'الماركة',
    model: 'الموديل',
    color: 'اللون',
    size: 'الحجم',
    price: 'السعر',
    quantity: 'الكمية',
    actions: 'الإجراءات',
    addNewFrame: 'إضافة إطار جديد',
    updateFrame: 'تحديث الإطار',
    confirmDelete: 'تأكيد الحذف',
    deleteFrameConfirm: 'هل أنت متأكد من رغبتك في حذف هذا الإطار؟',
    cancel: 'إلغاء',
    save: 'حفظ',
    delete: 'حذف',
    
    // Lens Types
    lensInventory: 'مخزون العدسات',
    lensTypes: 'أنواع العدسات',
    lensCoatings: 'طلاءات العدسات',
    addLens: 'إضافة عدسة',
    editLens: 'تعديل عدسة',
    deleteLens: 'حذف عدسة',
    lensName: 'اسم العدسة',
    description: 'الوصف',
    addNewLens: 'إضافة عدسة جديدة',
    updateLens: 'تحديث العدسة',
    deleteLensConfirm: 'هل أنت متأكد من رغبتك في حذف هذه العدسة؟',
    contactLensManagement: 'إدارة العدسات اللاصقة',
    
    // Coating
    coatingInventory: 'مخزون الطلاءات',
    addCoating: 'إضافة طلاء',
    editCoating: 'تعديل طلاء',
    deleteCoating: 'حذف طلاء',
    coatingName: 'اسم الطلاء',
    addNewCoating: 'إضافة طلاء جديد',
    updateCoating: 'تحديث الطلاء',
    deleteCoatingConfirm: 'هل أنت متأكد من رغبتك في حذف هذا الطلاء؟',
    
    // Contact Lenses
    contactLensInventory: 'مخزون العدسات اللاصقة',
    addContactLens: 'إضافة عدسة لاصقة',
    editContactLens: 'تعديل عدسة لاصقة',
    deleteContactLens: 'حذف عدسة لاصقة',
    contactLensBrand: 'الماركة',
    power: 'القوة',
    baseCurve: 'المنحنى الأساسي',
    diameter: 'القطر',
    addNewContactLens: 'إضافة عدسة لاصقة جديدة',
    updateContactLens: 'تحديث العدسة اللاصقة',
    deleteContactLensConfirm: 'هل أنت متأكد من رغبتك في حذف هذه العدسة اللاصقة؟',
    
    // Remaining Payments
    duePayments: 'المدفوعات المستحقة',
    clientId: 'رقم العميل',
    invoiceId: 'رقم الفاتورة',
    invoiceDate: 'تاريخ الفاتورة',
    amountDue: 'المبلغ المستحق',
    status: 'الحالة',
    payNow: 'ادفع الآن',
    paymentComplete: 'تم الدفع بالكامل',
    partialPayment: 'دفع جزئي',
    makePayment: 'إجراء الدفع',
    paymentAmount: 'مبلغ الدفع',
    process: 'معالجة',
    
    // Patient Search
    searchResults: 'نتائج البحث',
    noResults: 'لا توجد نتائج',
    searchByName: 'بحث بالاسم',
    searchByPhone: 'بحث برقم الهاتف',
    search: 'بحث',
    viewDetails: 'عرض التفاصيل',
    patientDetails: 'تفاصيل المريض',
    invoiceHistory: 'تاريخ الفواتير',
    prescriptionHistory: 'تاريخ الوصفات الطبية',
    date: 'التاريخ',
    
    // Common Actions
    edit: 'تعديل',
    view: 'عرض',
    print: 'طباعة',
    close: 'إغلاق',
    yes: 'نعم',
    no: 'لا',
    add: 'إضافة',
    update: 'تحديث',
    submit: 'تقديم',
    confirm: 'تأكيد',

    // Units and Labels
    kwd: 'د.ك',
    piece: 'قطعة',
    pieces: 'قطع',
    mm: 'ملم',
    cm: 'سم',
    diopter: 'ديوبتر',
  }
};

export const useLanguageStore = create<LanguageStore>((set) => ({
  language: 'ar', // Default language
  setLanguage: (language) => set({ language }),
  t: (key) => {
    const { language } = useLanguageStore.getState();
    return translations[language][key] || key;
  },
}));
