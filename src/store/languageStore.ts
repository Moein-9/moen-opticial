
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

interface LanguageStore {
  language: 'en' | 'ar';
  setLanguage: (language: 'en' | 'ar') => void;
  t: (key: string) => string;
  translations: {
    en: { [key: string]: string };
    ar: { [key: string]: string };
  };
}

export const useLanguageStore = create<LanguageStore>()(
  persist(
    (set, get) => ({
      language: 'en',
      setLanguage: (language) => set({ language }),
      t: (key) => {
        const language = get().language;
        return get().translations[language][key] || key;
      },
      translations: {
        en: {
          welcome: "Welcome!",
          systemDescription: "This is a comprehensive vision care management system designed to streamline your clinic's operations.",
          reportsPage: "Go to Reports Page",
          currentTime: "Current Time",
          dashboard: "Dashboard",
          createClient: "Create Client",
          createInvoice: "Create Invoice",
          inventory: "Inventory",
          remainingPayments: "Remaining Payments",
          patientSearch: "Patient Search",
          searchClient: "Search Client",
          search: "Search",
          name: "Name",
          phoneNumber: "Phone Number",
          dateOfBirth: "Date of Birth",
          age: "Age",
          actions: "Actions",
          searchResults: "Search Results",
          noResults: "No Results",
          clientsOverview: "Clients Overview",
          inventoryOverview: "Inventory Overview",
          refundsOverview: "Refunds Overview",
          clients: "Clients",
          inventoryManagement: "Inventory Management",
          comprehensiveSearch: "Comprehensive Search",
          brand: "Brand",
          model: "Model",
          color: "Color",
          price: "Price",
          quantity: "Quantity",
          lensType: "Lens Type",
          coating: "Coating",
          thickness: "Thickness",
          subtotal: "Subtotal",
          discount: "Discount",
          total: "Total",
          deposit: "Deposit",
          remaining: "Remaining",
          paidInFull: "Paid in Full",
          close: "Close",
          print: "Print",
          invoice: "Invoice",
          workOrder: "Work Order",
          invoiceTitle: "Create Invoice",
          clientSection: "Client",
          productSection: "Products",
          paymentSection: "Payment",
          summarySection: "Summary",
          next: "Next",
          previous: "Previous",
          invoiceSummary: "Invoice Summary",
          clientInformation: "Client Information",
          waitingForClientData: "Waiting for client data...",
          productsInformation: "Products Information",
          waitingForProductData: "Waiting for product data...",
          paymentInformation: "Payment Information",
          waitingForPaymentData: "Waiting for payment data...",
          frame: "Frame",
          paid: "Paid",
          unpaid: "Unpaid",
          paymentMethod: "Payment Method",
          cash: "Cash",
          creditCard: "Credit Card",
          bankTransfer: "Bank Transfer",
          authNumber: "Authorization Number",
          notes: "Notes",
          submit: "Submit",
          edit: "Edit",
          delete: "Delete",
          save: "Save",
          cancel: "Cancel",
          addPayment: "Add Payment",
          add: "Add",
          reportsPageTitle: "Reports",
          generateReport: "Generate Report",
          dateRange: "Date Range",
          startDate: "Start Date",
          endDate: "End Date",
          reportType: "Report Type",
          dailyRevenue: "Daily Revenue",
          monthlyRevenue: "Monthly Revenue",
          yearlyRevenue: "Yearly Revenue",
          totalRevenue: "Total Revenue",
          printLabel: "Print Label",
          printLabels: "Print Labels",
          selectFrame: "Select Frame",
          frameDetails: "Frame Details",
          lensDetails: "Lens Details",
          contactLensDetails: "Contact Lens Details",
          rxDetails: "RX Details",
          contactLens: "Contact Lens",
          addContactLens: "Add Contact Lens",
          removeContactLens: "Remove Contact Lens",
          contactLensBrand: "Contact Lens Brand",
          contactLensType: "Contact Lens Type",
          contactLensQuantity: "Contact Lens Quantity",
          contactLensPrice: "Contact Lens Price",
          contactLensTotal: "Contact Lens Total",
          contactLensRx: "Contact Lens RX",
          contactLensRxSphere: "Sphere",
          contactLensRxCylinder: "Cylinder",
          contactLensRxAxis: "Axis",
          contactLensRxAdd: "Add",
          contactLensRxDiameter: "Diameter",
          contactLensRxBaseCurve: "Base Curve",
          contactLensRxExpirationDate: "Expiration Date",
          contactLensRxNotes: "Notes",
          contactLensRxRightEye: "Right Eye",
          contactLensRxLeftEye: "Left Eye",
          contactLensRxBothEyes: "Both Eyes",
          contactLensRxPower: "Power",
          contactLensRxQuantity: "Quantity",
          contactLensRxPrice: "Price",
          contactLensRxTotal: "Total",
          contactLensRxSave: "Save",
          contactLensRxCancel: "Cancel",
          contactLensRxAddRx: "Add RX",
          contactLensRxRemoveRx: "Remove RX",
          contactLensRxEditRx: "Edit RX",
          contactLensRxViewRx: "View RX",
          contactLensRxNoRx: "No RX",
          contactLensRxNoRxAvailable: "No RX Available",
          contactLensRxAddRxNow: "Add RX Now",
          contactLensRxAddRxLater: "Add RX Later",
          contactLensRxAddRxSkip: "Skip RX",
          contactLensRxAddRxTitle: "Add Contact Lens RX",
          contactLensRxAddRxDescription: "Add contact lens prescription details",
          contactLensRxEditRxTitle: "Edit Contact Lens RX",
          contactLensRxEditRxDescription: "Edit contact lens prescription details",
          contactLensRxViewRxTitle: "View Contact Lens RX",
          contactLensRxViewRxDescription: "View contact lens prescription details",
          contactLensRxNoRxTitle: "No Contact Lens RX",
          contactLensRxNoRxDescription: "No contact lens prescription details available",
          contactLensRxNoRxAddRx: "Add RX Now",
          contactLensRxNoRxSkip: "Skip RX",
          contactLensRxNoRxAddRxLater: "Add RX Later",
          contactLensRxNoRxAddRxTitleLater: "Add Contact Lens RX Later",
          contactLensRxNoRxAddRxDescriptionLater: "Add contact lens prescription details later",
          contactLensRxNoRxAddRxSkipTitle: "Skip Contact Lens RX",
          contactLensRxNoRxAddRxSkipDescription: "Skip adding contact lens prescription details",
          contactLensRxNoRxAddRxSkipConfirm: "Are you sure you want to skip adding contact lens prescription details?",
          contactLensRxNoRxAddRxSkipConfirmYes: "Yes, Skip",
          contactLensRxNoRxAddRxSkipConfirmNo: "No, Cancel",
          contactLensRxNoRxAddRxSkipConfirmTitle: "Skip Contact Lens RX",
          contactLensRxNoRxAddRxSkipConfirmDescription: "Are you sure you want to skip adding contact lens prescription details?",
          contactLensRxNoRxAddRxSkipConfirmYesTitle: "Yes, Skip",
          contactLensRxNoRxAddRxSkipConfirmNoTitle: "No, Cancel",
          contactLensRxNoRxAddRxSkipConfirmYesDescription: "Skip adding contact lens prescription details",
          contactLensRxNoRxAddRxSkipConfirmNoDescription: "Cancel skipping adding contact lens prescription details",
          contactLensRxNoRxAddRxSkipConfirmYesButton: "Yes, Skip",
          contactLensRxNoRxAddRxSkipConfirmNoButton: "No, Cancel",
          contactLensRxNoRxAddRxSkipConfirmTitleButton: "Skip Contact Lens RX",
          contactLensRxNoRxAddRxSkipConfirmDescriptionButton: "Are you sure you want to skip adding contact lens prescription details?",
          contactLensRxNoRxAddRxSkipConfirmYesButtonTitle: "Yes, Skip",
          contactLensRxNoRxAddRxSkipConfirmNoButtonTitle: "No, Cancel",
          contactLensRxNoRxAddRxSkipConfirmYesButtonDescription: "Skip adding contact lens prescription details",
          contactLensRxNoRxAddRxSkipConfirmNoButtonDescription: "Cancel skipping adding contact lens prescription details",
          contactLensRxNoRxAddRxSkipConfirmYesButtonText: "Yes, Skip",
          contactLensRxNoRxAddRxSkipConfirmNoButtonText: "No, Cancel",
          contactLensRxNoRxAddRxSkipConfirmTitleText: "Skip Contact Lens RX",
          contactLensRxNoRxAddRxSkipConfirmDescriptionText: "Are you sure you want to skip adding contact lens prescription details?",
          contactLensRxNoRxAddRxSkipConfirmYesButtonTitleText: "Yes, Skip",
          contactLensRxNoRxAddRxSkipConfirmNoButtonTitleText: "No, Cancel",
          contactLensRxNoRxAddRxSkipConfirmYesButtonDescriptionText: "Skip adding contact lens prescription details",
          contactLensRxNoRxAddRxSkipConfirmNoButtonDescriptionText: "Cancel skipping adding contact lens prescription details",
          contactLensRxNoRxAddRxSkipConfirmYesButtonTextText: "Yes, Skip",
          contactLensRxNoRxAddRxSkipConfirmNoButtonTextText: "No, Cancel",
          clientsOverviewTitle: "Clients Overview",
          clientsOverviewDescription: "Client statistics",
          inventoryOverviewTitle: "Inventory Overview",
          inventoryOverviewDescription: "Inventory statistics",
          refundsOverviewTitle: "Refunds Overview",
          refundsOverviewDescription: "Refund statistics",
          clientManagementTitle: "Client Management",
          clientManagementDescription: "View and manage all registered clients in the system",
          useSearchFunctionTitle: "Use Search Function",
          useSearchFunctionDescription: "Please use the patient search function to find and manage client records.",
          searchClientsButton: "Search Clients",
          comprehensiveSearchTitle: "Comprehensive Search",
          comprehensiveSearchDescription: "Search across all system data",
          comingSoonTitle: "Coming Soon",
          comingSoonDescription: "Comprehensive search feature will be available soon.",
          refundsTitle: "Refunds & Returns",
          refundsDescription: "Process refunds and returns for customer orders",
          searchTransactions: "Search Transactions",
          searchPlaceholder: "Search by name, invoice number, or phone",
          refundProcessTitle: "Process Refund",
          refundDetails: "Refund Details",
          refundAmount: "Refund Amount",
          refundReason: "Reason for Refund",
          refundMethod: "Refund Method",
          refundNotes: "Additional Notes",
          processRefund: "Process Refund",
          noSearchResults: "No matching transactions found",
          refundSuccess: "Refund processed successfully",
          selectInvoice: "Select an invoice to process refund",
          refundStatus: "Refund Status",
          refunded: "Refunded",
          notRefunded: "Not Refunded",
          refundDate: "Refund Date",
          refundInvoice: "Refund Invoice",
          printRefund: "Print Refund Receipt",
          invoiceDetails: "Invoice Details",
          transactionHistory: "Transaction History", 
          // Fixed: Changed property to avoid duplicate
          newInvoiceLabel: "New Invoice",
          searchInstructions: "Enter customer name, invoice number, or phone number",
          selectTransaction: "Select a transaction to process refund",
          transactionDetails: "Transaction Details",
          frameDetails: "Frame Details"
        },
        ar: {
          welcome: "مرحبا!",
          systemDescription: "هذا نظام شامل لإدارة العناية بالرؤية مصمم لتبسيط عمليات عيادتك.",
          reportsPage: "الذهاب إلى صفحة التقارير",
          currentTime: "الوقت الحالي",
          dashboard: "لوحة التحكم",
          createClient: "إنشاء عميل",
          createInvoice: "إنشاء فاتورة",
          inventory: "المخزون",
          remainingPayments: "المدفوعات المتبقية",
          patientSearch: "بحث عن مريض",
          searchClient: "البحث عن عميل",
          search: "بحث",
          name: "اسم",
          phoneNumber: "رقم الهاتف",
          dateOfBirth: "تاريخ الميلاد",
          age: "عمر",
          actions: "أجراءات",
          searchResults: "نتائج البحث",
          noResults: "لا توجد نتائج",
          clientsOverview: "نظرة عامة على العملاء",
          inventoryOverview: "نظرة عامة على المخزون",
          refundsOverview: "نظرة عامة على المبالغ المستردة",
          clients: "عملاء",
          inventoryManagement: "إدارة المخزون",
          comprehensiveSearch: "بحث شامل",
          brand: "العلامة التجارية",
          model: "نموذج",
          color: "اللون",
          price: "السعر",
          quantity: "كمية",
          lensType: "نوع العدسة",
          coating: "طلاء",
          thickness: "سماكة",
          subtotal: "المجموع الفرعي",
          discount: "خصم",
          total: "المجموع",
          deposit: "إيداع",
          remaining: "المتبقية",
          paidInFull: "دفعت بالكامل",
          close: "إغلاق",
          print: "طباعة",
          invoice: "فاتورة",
          workOrder: "أمر شغل",
          invoiceTitle: "إنشاء فاتورة",
          clientSection: "عميل",
          productSection: "المنتجات",
          paymentSection: "دفع",
          summarySection: "ملخص",
          next: "التالي",
          previous: "سابق",
          invoiceSummary: "ملخص الفاتورة",
          clientInformation: "معلومات العميل",
          waitingForClientData: "في انتظار بيانات العميل ...",
          productsInformation: "معلومات المنتجات",
          waitingForProductData: "في انتظار بيانات المنتج ...",
          paymentInformation: "معلومات الدفع",
          waitingForPaymentData: "في انتظار بيانات الدفع ...",
          frame: "إطار",
          paid: "مدفوع",
          unpaid: "غير مدفوع",
          paymentMethod: "طريقة الدفع او السداد",
          cash: "نقدي",
          creditCard: "بطاقة الائتمان",
          bankTransfer: "تحويل بنكي",
          authNumber: "رقم التفويض",
          notes: "ملاحظات",
          submit: "إرسال",
          edit: "تعديل",
          delete: "حذف",
          save: "حفظ",
          cancel: "إلغاء",
          addPayment: "إضافة دفعة",
          add: "أضف",
          reportsPageTitle: "تقارير",
          generateReport: "إنشاء تقرير",
          dateRange: "نطاق التاريخ",
          startDate: "تاريخ البدء",
          endDate: "تاريخ الانتهاء",
          reportType: "نوع التقرير",
          dailyRevenue: "الإيرادات اليومية",
          monthlyRevenue: "الإيرادات الشهرية",
          yearlyRevenue: "الإيرادات السنوية",
          totalRevenue: "إجمالي الإيرادات",
          printLabel: "طباعة الملصق",
          printLabels: "طباعة ملصقات",
          selectFrame: "اختر الإطار",
          frameDetails: "تفاصيل الإطار",
          lensDetails: "تفاصيل العدسة",
          contactLensDetails: "تفاصيل العدسة اللاصقة",
          rxDetails: "تفاصيل وصفة طبية",
          contactLens: "عدسة لاصقة",
          addContactLens: "أضف عدسة لاصقة",
          removeContactLens: "إزالة العدسة اللاصقة",
          contactLensBrand: "العلامة التجارية للعدسة اللاصقة",
          contactLensType: "نوع العدسة اللاصقة",
          contactLensQuantity: "كمية العدسة اللاصقة",
          contactLensPrice: "سعر العدسة اللاصقة",
          contactLensTotal: "إجمالي العدسة اللاصقة",
          contactLensRx: "وصفة العدسة اللاصقة",
          contactLensRxSphere: "كرة",
          contactLensRxCylinder: "اسطوانة",
          contactLensRxAxis: "محور",
          contactLensRxAdd: "إضافة",
          contactLensRxDiameter: "قطر",
          contactLensRxBaseCurve: "منحنى القاعدة",
          contactLensRxExpirationDate: "تاريخ انتهاء الصلاحية",
          contactLensRxNotes: "ملاحظات",
          contactLensRxRightEye: "العين اليمنى",
          contactLensRxLeftEye: "العين اليسرى",
          contactLensRxBothEyes: "كلتا العينين",
          contactLensRxPower: "قوة",
          contactLensRxQuantity: "كمية",
          contactLensRxPrice: "السعر",
          contactLensRxTotal: "المجموع",
          contactLensRxSave: "حفظ",
          contactLensRxCancel: "إلغاء",
          contactLensRxAddRx: "أضف وصفة طبية",
          contactLensRxRemoveRx: "إزالة وصفة طبية",
          contactLensRxEditRx: "تحرير وصفة طبية",
          contactLensRxViewRx: "عرض وصفة طبية",
          contactLensRxNoRx: "لا توجد وصفة طبية",
          contactLensRxNoRxAvailable: "لا توجد وصفة طبية متاحة",
          contactLensRxAddRxNow: "أضف وصفة طبية الآن",
          contactLensRxAddRxLater: "أضف وصفة طبية لاحقًا",
          contactLensRxAddRxSkip: "تخطي وصفة طبية",
          contactLensRxAddRxTitle: "أضف وصفة العدسة اللاصقة",
          contactLensRxAddRxDescription: "أضف تفاصيل وصفة العدسة اللاصقة",
          contactLensRxEditRxTitle: "تحرير وصفة العدسة اللاصقة",
          contactLensRxEditRxDescription: "تحرير تفاصيل وصفة العدسة اللاصقة",
          contactLensRxViewRxTitle: "عرض وصفة العدسة اللاصقة",
          contactLensRxViewRxDescription: "عرض تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxTitle: "لا توجد وصفة العدسة اللاصقة",
          contactLensRxNoRxDescription: "لا توجد تفاصيل وصفة العدسة اللاصقة المتاحة",
          contactLensRxNoRxAddRx: "أضف وصفة طبية الآن",
          contactLensRxNoRxSkip: "تخطي وصفة طبية",
          contactLensRxNoRxAddRxLater: "أضف وصفة طبية لاحقًا",
          contactLensRxNoRxAddRxTitleLater: "أضف وصفة العدسة اللاصقة لاحقًا",
          contactLensRxNoRxAddRxDescriptionLater: "أضف تفاصيل وصفة العدسة اللاصقة لاحقًا",
          contactLensRxNoRxAddRxSkipTitle: "تخطي وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipDescription: "تخطي إضافة تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirm: "هل أنت متأكد أنك تريد تخطي إضافة تفاصيل وصفة العدسة اللاصقة؟",
          contactLensRxNoRxAddRxSkipConfirmYes: "نعم، تخطي",
          contactLensRxNoRxAddRxSkipConfirmNo: "لا، إلغاء",
          contactLensRxNoRxAddRxSkipConfirmTitle: "تخطي وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmDescription: "هل أنت متأكد أنك تريد تخطي إضافة تفاصيل وصفة العدسة اللاصقة؟",
          contactLensRxNoRxAddRxSkipConfirmYesTitle: "نعم، تخطي",
          contactLensRxNoRxAddRxSkipConfirmNoTitle: "لا، إلغاء",
          contactLensRxNoRxAddRxSkipConfirmYesDescription: "تخطي إضافة تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmNoDescription: "إلغاء تخطي إضافة تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmYesButton: "نعم، تخطي",
          contactLensRxNoRxAddRxSkipConfirmNoButton: "لا، إلغاء",
          contactLensRxNoRxAddRxSkipConfirmTitleButton: "تخطي وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmDescriptionButton: "هل أنت متأكد أنك تريد تخطي إضافة تفاصيل وصفة العدسة اللاصقة؟",
          contactLensRxNoRxAddRxSkipConfirmYesButtonTitle: "نعم، تخطي",
          contactLensRxNoRxAddRxSkipConfirmNoButtonTitle: "لا، إلغاء",
          contactLensRxNoRxAddRxSkipConfirmYesButtonDescription: "تخطي إضافة تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmNoButtonDescription: "إلغاء تخطي إضافة تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmYesButtonText: "نعم، تخطي",
          contactLensRxNoRxAddRxSkipConfirmNoButtonText: "لا، إلغاء",
          contactLensRxNoRxAddRxSkipConfirmTitleText: "تخطي وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmDescriptionText: "هل أنت متأكد أنك تريد تخطي إضافة تفاصيل وصفة العدسة اللاصقة؟",
          contactLensRxNoRxAddRxSkipConfirmYesButtonTitleText: "نعم، تخطي",
          contactLensRxNoRxAddRxSkipConfirmNoButtonTitleText: "لا، إلغاء",
          contactLensRxNoRxAddRxSkipConfirmYesButtonDescriptionText: "تخطي إضافة تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmNoButtonDescriptionText: "إلغاء تخطي إضافة تفاصيل وصفة العدسة اللاصقة",
          contactLensRxNoRxAddRxSkipConfirmYesButtonTextText: "نعم، تخطي",
          contactLensRxNoRxAddRxSkipConfirmNoButtonTextText: "لا، إلغاء",
          clientsOverviewTitle: "نظرة عامة على العملاء",
          clientsOverviewDescription: "إحصائيات العملاء",
          inventoryOverviewTitle: "نظرة عامة على المخزون",
          inventoryOverviewDescription: "إحصائيات المخزون",
          refundsOverviewTitle: "نظرة عامة على المبالغ المستردة",
          refundsOverviewDescription: "إحصائيات الاسترداد",
          clientManagementTitle: "إدارة العملاء",
          clientManagementDescription: "عرض وإدارة جميع العملاء المسجلين في النظام",
          useSearchFunctionTitle: "استخدم وظيفة البحث",
          useSearchFunctionDescription: "يرجى استخدام وظيفة البحث عن العملاء للعثور على سجلات العملاء وإدارتها.",
          searchClientsButton: "البحث عن العملاء",
          comprehensiveSearchTitle: "بحث شامل",
          comprehensiveSearchDescription: "البحث في جميع بيانات النظام",
          comingSoonTitle: "قريباً",
          comingSoonDescription: "ميزة البحث الشامل ستكون متاحة قريباً.",
          refundsTitle: "المبالغ المستردة والمرتجعات",
          refundsDescription: "معالجة استرداد الأموال والمرتجعات لطلبات العملاء",
          searchTransactions: "بحث المعاملات",
          searchPlaceholder: "البحث بالاسم أو رقم الفاتورة أو الهاتف",
          refundProcessTitle: "معالجة استرداد الأموال",
          refundDetails: "تفاصيل الاسترداد",
          refundAmount: "المبلغ المسترد",
          refundReason: "سبب الاسترداد",
          refundMethod: "طريقة الاسترداد",
          refundNotes: "ملاحظات إضافية",
          processRefund: "معالجة استرداد الأموال",
          noSearchResults: "لم يتم العثور على معاملات مطابقة",
          refundSuccess: "تمت معالجة الاسترداد بنجاح",
          selectInvoice: "اختر فاتورة لمعالجة الاسترداد",
          refundStatus: "حالة الاسترداد",
          refunded: "مسترجع",
          notRefunded: "غير مسترجع",
          refundDate: "تاريخ الاسترداد",
          refundInvoice: "فاتورة الاسترداد",
          printRefund: "طباعة إيصال الاسترداد",
          invoiceDetails: "تفاصيل الفاتورة",
          transactionHistory: "سجل المعاملات",
          // Fixed: Changed property to avoid duplicate
          newInvoiceLabel: "فاتورة جديدة",
          searchInstructions: "أدخل اسم العميل أو رقم الفاتورة أو رقم الهاتف",
          selectTransaction: "اختر معاملة لمعالجة الاسترداد",
          transactionDetails: "تفاصيل المعاملة",
          frameDetails: "تفاصيل الإطار"
        }
      }
    }),
    {
      name: 'language-store'
    }
  )
);
